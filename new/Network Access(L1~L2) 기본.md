
OSI 기준 3계층이 아니라 1~2 계층을 다룸.

물리적인 변환 과정이나 그걸 Host에 전기적, 물리적 신호로 보내는거, 연결하는거 (NIC) 등을 다룸.

이더넷 같은게 여기 포함.

따라서 IP를 모름. 대신 Mac 주소를 통해서 통신한다.

그래서 서브 그룹 단위로는 안되고, 보낼 수 있는 전부 or 특정 MAC에 한번씩 만 가능함.

인프라, 백본 관련 내용은 별도로 분리하는게 좋을듯? 라우팅이나 MPLS이나 VLAN이나...

일단 책 내용 키워드 위주로 정리 -> 그 외 기타 자료로 추가 보완 -> 책 다시 보고 정리 -> 위치 나누기 등...

너무 딥하게는 하지 말고, 결론 위주로, 그런건 책 보면 되니까.


- 6.1 링크 계층 소개
    - 노드: 링크 계층 프로토콜을 실행하는 장치
    - 링크: 통신 경로상의 인접한 노드들을 연결하는 통신 채널, 데이터가 이동하는 경로 (데이터를 받고 다른 곳으로 넘겨주는 곳 hop? host? 사이사이마다 있음. 여러 링크를 통해서 트래픽이 host to host로 전달)
- 6.1.1 링크 계층이 제공하는 서비스 - 항상 지원하는 건 아님. 일부만?
    - 프레임화(framing)
        - 링크 계층 프레임에 캡슐화
    - 링크 접속(link access)
        - ?? 이해 잘 못함.
    - 신뢰적 전달 
        - TCP처럼 확인 응답과 재전송을 통해 신뢰적 전달. 단 누락이 잘 되는 무선에서만, 유선의 경우 제공 X
    - 오류 검출과 정정
        - 상위 계층의 오류 검출보다 일반적으로 더 복잡하며, 하드웨어로 구현된다.
        - 오류 정정은 어느 부분에서 에러가 발생했는지 정확하게 잡아낸다. - 이거 영어 표현 궁금함. 한글은 좀 비직관적인데.
- 6.1.2 링크 계층이 구현되는 위치
    - 호스트에서 대부분의 경우 링크 계층은 네트워크 인터페이스 컨트롤러(network interface controller - 요즘엔 card라고 더 많이 부르는듯?, NIC)로 알려진 네트워크 어댑터(network adapter) 에 구현된다.
    - NIC는 어떻게 통신하는가? 
        - 책: controller(물리 -> 전기 신호 변환) -(데이터버스를 통해서)> CPU(인터럽트 발생)
        - 따로 찾은거:  
            - 현대 OS는 다른 하드웨어를 다루는 것처럼 똑같이 다룬다. 
            - NIC는 이더넷 카드, 무선 LAN 어댑터 등 다양한 형태로 제공되며, 최근에는 NIC가 메인보드에 통합된 형태로도 많이 사용된다.
            - NIC는 하드웨어 기기이다. 이에 호환되는 드라이버가 있고, 드라이버는 OS 규칙에 맞게 인터럽트를 발생시킨다.
            - 즉 NIC -> 드라이버 -> 인터럽트 발생([MSI](https://en.wikipedia.org/wiki/Message_Signaled_Interrupts), [DMA](https://en.wikipedia.org/wiki/Direct_memory_access) 등 드라이버 구현따라 다름) -> CPU가 다른 인터럽트와 마찬가지로 동일하게 처리
            - USB to RJ45 어댑터 같이 노트북에 랜 끼우는것도 NIC의 일종으로 볼 수 있음.
            - NIC 하드웨어는 인터럽트만 외에도 링크 계층의 기능인 패킷 버퍼링(Buffering), 에러 검출(Error Detection), 흐름 제어(Flow Control) 
            - NIC가 하는 일
                - 네트워크 매체(예: 이더넷 케이블, 무선 신호)와의 물리적 상호작용. 
                - 물리적 <-> 전기적 신호 변환 
                - 물리적 인터페이스 (RJ45, Wi-Fi 어댑터) 제공
            - NIC 동작
                - (1) 물리적 신호를 프레임으로 변환
                - (2) 에러 검출 및 처리 
                - (3) 흐름 제어 및 버퍼링 수행. 
                - 이후 인터럽트를 발생시켜 OS에게 프레임 정보를 넘긴다.
            - ref: 
                - https://en.wikipedia.org/wiki/Network_interface_controller : 더 찾아봐야함. 부족한 부분도 많음.
                - https://www.geeksforgeeks.org/nic-full-form/ 
                - https://gist.github.com/bondit-sijunyang/e1154b3c908744ee64a721a3b9ecd5ef << AI 답변이긴 한데, 이런 부분은 꽤 정확하니까...
- 6.2 오류 검출 및 정정 기술
    - 패리티 검사 : 신뢰성이 낮아 현대 네트워크에서는 거의 사용되지 않음.
    - 체크섬 : TCP, UDP에서 데이터그램의 무결성을 확인하기 위해 사용. 소프트웨어로 구현됨.
    - 순환 중복 검사(CRC) : 하드웨어에서 효율적으로 구현 가능. 링크 계층(NIC)에서, 물리 계층(무선 통신, UDB, HDD, SSD) 등에서 사용됨.
    - 순서대로 더 높은 오류 검출 능력.
- 6.3 다중 접속 링크와 프로토콜: 다수의 노드가 하나의 링크를 공유하는 경우 어떻게 되는가?
    - [메모] 아래는 책 내용임. 근데 이게 실제로 어디 쓰이는건지? 2계층이라곤 하는데, , 거의 안쓰인다 하지 않았나? 어느 계층 동작인거지. 그리고 내가 이걸 알아야 하나? 필요없어보이는건 키워드만 적어놓기
    - 네트워크 링크의 두 종류
        - 점대점 링크 (Point-to-Point Link)
        - 브로드캐스트 링크 (Broadcast Link)
    - 다중 접속 문제: 여러 노드가 동시에 데이터 전송 시 충돌 발생 → 데이터 손실(의미 파악 불가) 및 채널 낭비.
    - 다중 접속 프로토콜으로 바람직한 특성 - 아래와 같은 특징을 가져야 좋음.
        - 단일 노드 데이터 전송 시 R bps 처리율.
        - N개 노드 동시 전송 시 각 노드는 R/N bps 처리율.
        - 분산형 설계(마스터 노드 필요 없음), 단순함.
    - 채널 분할 프로토콜
        - TDM (시분할 다중화):
            - 시간을 프레임 및 슬롯으로 나눔. 각 노드가 자신의 시간 슬롯에만 데이터 전송.
            - 충돌 제거, 공정하지만, 노드의 수와 상관 없이 항상 R/N이므로 비효율적임.
            - e.g. 위성 통신.
        - FDM (주파수 분할 다중화):
            - 채널을 주파수 대역으로 나눠 각 노드에 할당.
            - TDM과 유사한 장단점.
            - e.g. 라디오 방송, 케이블 TV.
        - CDMA (코드 분할 다중 접속):
            - 각 노드에 고유 코드 할당. 여러 노드가 동시에 전송 가능.
    - 랜덤 접속 프로토콜
        - 충돌 발생 시 프레임 재전송. 랜덤 지연 시간으로 충돌 완화.
        - 슬롯 알로하: 슬롯 단위로 전송. 최대 효율 37%. 슬롯을 사용하므로 동기화 되어야 함.
        - 순수 알로하: 슬롯 없이 전송. 최대 효율 18%(슬롯 알로하의 절반). 대신 동기화가 필요하지 않음.
        - CSMA: 다른 노드가 전송 중인지 확인 후 전송.
        - CSMA/CD: 충돌 감지 시 전송 중단, 지연 후 재시도. 
    - 순번 프로토콜
        - 폴링 프로토콜: 마스터 노드가 각 노드 순차적으로 관리.
        - 토큰 전달 프로토콜: 노드 간 토큰을 전달하며 전송 기회 제공.
    - DOCSIS (케이블 인터넷 프로토콜 - 케이블 인터넷 접속을 위한 링크 계층 프로토콜)
        - 하향 채널: FDM 기반, 충돌 없음, CMTS가 데이터 송신 제어.
        - 상향 채널: CMTS와 케이블 모뎀이 미니슬롯 기반으로 데이터 송신.
        - 충돌 시 이진 지수적 백오프(Exponential Backoff - 재시도 간격을 점진적으로 늘려가며 재시도) 적용.
- 6.4 스위치 근거리 네트워크
    - 6.4.1 링크 계층 주소체계와 ARP
        - 링크 계층 주소체계: 네트워크 계층 주소 체계가 있는데도 링크 계층 주소를 갖는 이유
            - LAN은 임의의 네트워크 계층 프로토콜을 위해 설계되었기 때문. 
            - 각 계층이 독립적이기 위해선 자신만의 주소 기법을 가져야 함.
            - [메모] 번외로 MAC과 IP 중 하나만 사용해도 네트워크는 잘 동작할 텐데, 분리하는 이유를 궁금해 했던적이 있는데, 저런 네트워크 계층 이유를 배제하도고 다른 이유는 IP는 논리적인 연관관계 (서브넷 같은거)가 있는 반면, MAC은 없어서 불가능하다. 
        - MAC: 48bit, 6byte, 앞 절반은 IEEE에서 제조사에게 할당. 나머지는 제조사가 알아서 중복이 생기지 않게 할당.
        - 송수신: 송신 어댑터는 본인의 MAC과 요청에 온 MAC이 일치하는지 (or 브로드캐스트인지) 확인하고 아니라면 폐기, 이외에는 상위 스택으로 전달
        - ARP: IP를 보고 목적 MAC 주소를 구하는 프로토콜
            - 각 호스트와 라우터는 자신의 메모리에 ARP 테이블(ARP table)을 가진다. - IP주소와 대응되는 MAC 주소, TTL 값을 포함.
                - ARP 테이블은 플러그 앤 플레이(plug-and-play)이다. 알아서 동작하면서 자동으로 구축됨.
            - ARP 호출 시 목적 IP값을 담아서 브로드캐스트로 요청, 각 노드는 요청을 받고, 본인이 해당 IP를 가지는 경우 응답함. 호출자는 응답을 통해서 IP와 매핑되는 MAC주소를 알게 되므로 테이블에 적음. 테이블에 있으면 요청을 하지 않고, 바로 호출함.
        - [매모] RARP는 IP로 MAC을 확인하는거, 저장장치가 없는 경우 인접 노드로부터 정보를 구하는 용도로 썼다는데, 요즘에는 거의 DHCP랑 따른거로 대체되었다고 함.
    - 6.4.2 이더넷 : 근거리 네트워킹을 다룸. IEEE 표준
        1. 이더넷 프레임 구조
            - 데이터 필드(46~1500바이트): IP 데이터그램 운반.
            - 목적지/출발지 MAC 주소(각 6바이트).
            - 프리앰블(8바이트): 수신기 클록 동기화.
            - 순환 중복 검사(CRC, 4바이트): 오류 검출.
        2. 서비스 특성
            - 비연결형 서비스: 핸드셰이킹 없이 전송.
            - 비신뢰적 서비스: 프레임 손실 시 확인 응답 없음. 손실 시 상위 계층(TCP 등)이 처리.
        3. 현대 이더넷
            - 스타 토폴로지: 스위치 기반. 충돌 없는 점대점 연결.
            - CSMA/CD 프로토콜 불필요.
    - 6.4.3 링크 계층 스위치
        1. 스위치의 역할
            - 포워딩: 프레임을 적절한 출력 인터페이스로 전송.
            - 필터링: 전송 불필요한 프레임은 폐기.
        - 2. 스위치 테이블
            - 구성: MAC 주소, 해당 인터페이스, 생성 시간.
            - 작동 방식:
                - 엔트리 없음: 브로드캐스트.
                - 현재 인터페이스와 연관된 엔트리: 폐기(필터링).
                - 다른 인터페이스와 연관된 엔트리: 해당 인터페이스로 전달(포워딩).


---

1계층(물리 계층)은 데이터를 전송하기 위한 물리적 매체와 신호를 정의하는 계층입니다. 물리 계층에서는 주로 프로토콜보다는 **물리적 특성, 신호 처리, 전송 매체**에 관한 표준이 중심이 됩니다. 다만, 물리 계층의 전송을 지원하기 위해 특정 프로토콜과 표준이 사용되며, 주요 요소는 다음과 같습니다.

---

## **1. 물리 계층에서 사용되는 주요 프로토콜과 표준**
물리 계층은 하드웨어와 관련된 사항을 정의하므로 특정 "프로토콜"보다는 **표준화된 기술**을 사용하는 경우가 많습니다.

### **대표적인 물리 계층 표준**
1. **이더넷 표준 (IEEE 802.3)**  
   - 데이터 링크 계층과 연계된 물리 계층 표준을 포함합니다.  
   - 속도 및 매체에 따라 여러 세부 표준이 존재:
     - Fast Ethernet (100Base-T)
     - Gigabit Ethernet (1000Base-T)
     - 10-Gigabit Ethernet (10GBase-T)
   - 매체의 유형(동축 케이블, 꼬임쌍선, 광섬유)과 전송 속도를 정의.

2. **Wi-Fi (IEEE 802.11 시리즈)**  
   - 무선 통신을 위한 표준.
   - 물리 계층에서 신호의 변조 방식과 주파수 대역 정의.
   - ex) 802.11a, 802.11b, 802.11g, 802.11ac 등.

3. **블루투스 (IEEE 802.15.1)**  
   - 근거리 무선 통신 표준.
   - 신호의 주파수 홉핑 방식과 전송 속도를 정의.

4. **USB (Universal Serial Bus)**  
   - 물리적인 연결과 데이터 전송 방식에 대한 표준.

5. **DSL (Digital Subscriber Line)**  
   - 전화선 기반의 데이터 전송 기술.

6. **광섬유 표준 (ITU-T G 시리즈)**  
   - G.652 (표준 단일 모드 광섬유)  
   - G.709 (광 전송망 표준)

---

## **2. 물리 계층에서 정의되는 값**
1계층에서는 신호와 전송 매체의 특성을 정의하므로, 사용되는 값들은 데이터가 신호로 변환되는 방식이나 매체 특성과 관련됩니다.

### **주요 물리적 특성 값**
1. **전송 속도 (Transmission Rate)**  
   - 초당 전송 가능한 비트 수 (bps).  
   - 예: 10Mbps, 1Gbps, 10Gbps 등.

2. **신호 레벨 (Signal Levels)**  
   - 디지털 신호에서 사용할 전압 수준이나 광 신호 강도.

3. **주파수 대역 (Frequency Band)**  
   - 사용하는 주파수 범위.  
   - 예: Wi-Fi의 경우 2.4GHz, 5GHz 대역.

4. **변조 방식 (Modulation Techniques)**  
   - 데이터를 신호로 변환하는 방법.
     - ASK (Amplitude Shift Keying)
     - FSK (Frequency Shift Keying)
     - PSK (Phase Shift Keying)
     - OFDM (Orthogonal Frequency Division Multiplexing)

5. **케이블 특성**  
   - 케이블의 길이 제한, 저항, 대역폭.
   - 예: CAT5e 케이블은 최대 100m 거리에서 1Gbps 속도 지원.

6. **전송 매체 유형**  
   - 매체의 특성:
     - 꼬임쌍선(Twisted Pair)
     - 동축 케이블(Coaxial Cable)
     - 광섬유(Fiber Optic)
     - 무선(Wireless)

7. **동기화 (Synchronization)**  
   - 송신자와 수신자가 신호 타이밍을 일치시키기 위한 클록 신호.

---

### **결론**
1계층은 데이터의 전송과 수신을 물리적으로 구현하는 계층으로, **프로토콜보다는 표준과 물리적 특성**(전송 속도, 주파수, 변조 방식 등)이 중심이 됩니다.  
데이터 링크 계층의 프레임이 물리 계층에서는 전기 신호, 광 신호, 또는 무선 신호로 변환되어 전송되므로, 물리 계층의 설정이 데이터 전송의 성능과 신뢰성을 결정합니다.

---

> AI 피셜 6.3 사용되는 프로토콜 명세
> 대충 보니까 표준인건 몇개 안되고, 그냥 개념 설명 용이였던 듯?

Ethernet (CSMA/CD):

IEEE 802.3 표준
주로 LAN(Local Area Network) 환경에서 쓰이며, CSMA/CD 방식이 사용됩니다.
TDM/FDM/CDMA:

ITU(International Telecommunication Union) 및 **3GPP(3rd Generation Partnership Project)**에서 규정.
CDMA의 경우, 이동 통신 및 위성 통신에 쓰이는 프로토콜이 주를 이룹니다.
ALOHA/Slotted ALOHA:

원래 Norman Abramson의 논문에서 개념화되었으며, 현대에는 IEEE 및 기타 무선 통신 표준에 간접적으로 포함됩니다.
DOCSIS:

DOCSIS는 CableLabs에서 정의한 표준이며, IEEE 표준(802.14)과 연관이 있습니다.


---


> 1, 2 계층 분리하는게 나을지도
> 요즘에는 1계층의 이더넷같은게 많이 나와서...
> 2계층이면 MAC, [LLC](https://en.wikipedia.org/wiki/Logical_link_control), NIC 같은 개념 정도?

- https://www.destroyallsoftware.com/compendium/network-protocols?share_key=97d3ba4c24d21147 << 여기 물리적 부분
- https://github.com/IT-Book-Organization/Computer-Networking_A-Top-Down-Approach/tree/main/Chapter_6/6.1%20%EB%A7%81%ED%81%AC%20%EA%B3%84%EC%B8%B5%20%EC%86%8C%EA%B0%9C
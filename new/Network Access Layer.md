# 기초

## 1계층
- 1계층에서는 물리적 매체를 통해 데이터를 전송하는 물리 계층 프로토콜을 사용함. 
- 현재는 이더넷을 사용함. 표준으로 거의 모든 곳에서 쓰인다.
- 관련 물리적 도구? 표준?
    - 또한 8개의 전선을 4개의 꼬임 쌍으로 구성한 cat5(또는 cat5e, cat6, cat7) 케이블과도 관련이
    - RJ45 커넥터
    - 전송 매체: 
        - 꼬임쌍선 (Twisted Pair) - 가장 대중적인 방식, 가정에선 대부분 이걸 사용함.
        - 구리선 << 예전 건물 - 자취집에 이거 쓰는거 있음. 잦은 간섭.
        - 광섬유 케이블 << 하나의 광섬유에서 여러 파장(채널)의 빛을 동시에 전송할 수 있어 빠르고, 높은 신롸성. 백본 네트워크, 해저 케이블에 사용됨.
- 물리 계층 프로토콜의 종류
    - 말을 프로토콜이라고 하긴 했는데, 물리 계층은 하드웨어와 관련된 사항을 정의하므로 특정 "프로토콜"보다는 표준화된 기술(더 넓은 의미)을 사용하는 경우가 많음.
    - 이더넷 표준 (IEEE 802.3)
    - Wi-Fi (IEEE 802.11 시리즈)
    - 블루투스 (IEEE 802.15.1)
    - USB (Universal Serial Bus)
    - DSL (Digital Subscriber Line)
    - 광섬유 표준 (ITU-T G 시리즈)
- 1계층은 데이터의 전송과 수신을 물리적으로 구현하는 계층으로, **프로토콜보다는 표준과 물리적 특성**(전송 속도, 주파수, 변조 방식 등)이 중심이 됩니다.  

### TODO

- 허브
- 여러 노드 간의 네트워크 충돌 해결 방법 << 간단하게만, 요즘 허브 쓰는 곳 거의 없음.

## 2계층

- TODO: ARP(ARP 테이블), 스위치, VLAN 간단하게(그 외 인프라 추가 정보는 여기선 필요한 이유, 문제 정도만 소개하고, 별도 파일로 분리해서 CCNA 다룰 떄 정리...)

## 이더넷

이더넷은 OSI 모델의 1계층(물리 계층)과 2계층(데이터 링크 계층)을 모두 포함합니다.

1. 물리 계층 (1계층):
   - 이더넷은 케이블 내에서 비트를 전기 신호로 변환하는 방식을 정의합니다.
   - 케이블 유형, 커넥터, 신호 인코딩 방식 등을 규정합니다.

2. 데이터 링크 계층 (2계층):
   - 이더넷은 노드 간 직접 연결 방식을 설명합니다.
   - MAC(Media Access Control) 주소를 사용하여 프레임을 전송합니다.
   - CSMA/CD(Carrier Sense Multiple Access with Collision Detection) 같은 매체 접근 제어 방식을 포함합니다.

이더넷의 주요 특징:
- 점대점 방식으로 작동합니다.
- 네트워크 내 데이터 라우팅 방식은 다루지 않습니다.
- TCP 연결과 같은 상위 계층의 연결 개념은 포함하지 않습니다.
- IP 주소 재할당과 같은 기능은 없습니다.

이더넷은 로컬 네트워크에서 데이터를 효율적으로 전송하는 데 중점을 두며, 상위 계층 프로토콜과 함께 작동하여 전체 네트워크 통신을 가능하게 합니다.

- [메모] 이더넷은 프레임 <-> 물리적 신호 변환을 수행함. 그래서 이더넷은 둘 다 알고있음.

- 

---


이더넷은 프로토콜로서 두 가지 주요 역할을 수행합니다. 첫째, 각 장치는 다른 장치와 연결되었음을 인지해야 하며, 연결 속도와 같은 몇 가지 매개변수를 협상해야 합니다.  
둘째, 링크가 설정된 후 이더넷은 데이터를 전송해야 합니다. TCP 및 IP와 같은 상위 계층 프로토콜과 마찬가지로 이더넷 데이터는 패킷으로 나뉩니다. 패킷의 핵심은 프레임으로, 1,500바이트의 페이로드와 소스 및 목적지 MAC 주소, 페이로드 길이, 체크섬 등 헤더 정보로 22바이트를 추가로 포함합니다.

프레임은 또 다른 헤더 계층으로 감싸져 전체 패킷이 됩니다. 이 헤더는 독특합니다. 이는 아날로그 전기 시스템의 본질적인 특성과 맞닿아 있어 소프트웨어 프로토콜에서 볼 수 없는 형식으로 나타납니다. 

전체 이더넷 패킷은 다음을 포함합니다:
1. **프리앰블**: 56비트(7바이트)의 1과 0이 교대로 나타납니다. 장치는 이를 사용하여 시계를 동기화하며, 이는 사람들이 "하나, 둘, 셋, 시작!"이라고 외치는 것과 비슷합니다. 컴퓨터는 1 이상을 셀 수 없으므로 "101010...10"을 반복하여 동기화를 맞춥니다.
2. **시작 프레임 구분자(SFD)**: 8비트(1바이트) 값으로 171(이진수로 10101011)입니다. 이는 프리앰블의 끝을 표시합니다.
3. **프레임 본체**: 소스 및 목적지 주소, 페이로드 등으로 구성됩니다.
    - 대상 주소, 목적지 주소, 이더넷의 길이
    - 실제 보내는 데이터: 상위 계층의 정보를 담고 있음.
4. CRC(중복 순환 검사): 하드웨어에서 구현하므로 편함.
5. VLAN 태그: 아마 항상은 아니고... 필요할때만 추가되는 식. 뭔지는 2계층에서 설명
6. **패킷 간 간격**: 96비트(12바이트)로, 라인은 이 기간 동안 유휴 상태가 됩니다. 이는 장치가 잠시 휴식할 시간을 제공하기 위한 것으로 보입니다.

결론적으로, 1,500바이트의 데이터를 전송하려면 22바이트를 추가하여 프레임을 생성하고, 소스, 목적지, 크기 및 체크섬을 나타냅니다. 그런 다음 하드웨어의 요구를 충족하기 위해 20바이트를 추가로 더해 전체 이더넷 패킷을 만듭니다.

https://en.wikipedia.org/wiki/Ethernet_frame
https://www.geeksforgeeks.org/ethernet-frame-format/


- [메모] TCP/UDP는 16비트의 길이 필드를 가지므로 65,535바이트까지 표현 가능하다. (헤더 포함 전체 크기가) 그러나 실제 사용시에는 대부분 이더넷의 MTU(최대 크기)인 1500 바이트 이하로 보낸다고 함.
    - 여러 이유가 있는거 같긴 함. TCP 단에서 큐에 오래 있어야 한다거나... 여러 패킷을 묶어서 하나로 하니까 에러 발생 확률이 높아진다거나? 하드웨어 구현이 이에 맞춰있다거나? 뭐... - 근데 이걸 깊게 찾아볼 필요는 없어보이고.

### 네트워킹과 현실 세계의 만남 << 
네트워킹에서 디지털 시스템과 아날로그 세계의 상호작용은 복잡하고 흥미롭습니다. 주요 포인트는 다음과 같습니다:

#### 디지털과 아날로그의 공존

1. 모든 시스템은 근본적으로 아날로그적입니다. 순수한 디지털 시스템은 존재하지 않습니다.

2. 5볼트 CMOS 시스템의 예:
   - 이론상 1은 5볼트, 0은 0볼트
   - 실제로는 1.67볼트 이상을 1로, 미만을 0으로 해석 - (5 * 1/3 ~= 1.67)

#### 이더넷의 물리적 구현

1. 이더넷 패킷은 실제 전선을 통과해야 합니다.
2. 전압 범위: -2.5V에서 +2.5V
3. 8비트에서 10비트로의 확장:
   - 각 8비트 값은 4개의 10비트 패턴 중 하나로 매핑됨
   - 예: 00.0000.0000과 10.1010.1010은 모두 0000.0000으로 해석 가능

#### 8b/10b 인코딩의 필요성

1. 전압 균형 유지를 위해 사용됩니다.
2. 장기간 데이터 전송 시 비트 오류 방지
3. 0과 1의 비율을 조절하여 전기적 균형 유지

#### 소프트웨어와 하드웨어의 상호작용

1. 물리 계층의 문제를 해결하기 위해 소프트웨어 솔루션이 사용됩니다.
2. 프로그래머들은 소프트웨어가 완벽한 디지털 세계에 존재한다고 생각하지만, 실제로는 아날로그 세계의 복잡성을 고려해야 합니다.

https://blog.naver.com/icbanq/223392049667
https://ko.wikipedia.org/wiki/CMOS

### 프로토콜 계층의 독립성 << 이건 내용이 좋긴 한데, 나중에 분리하기.
인터넷 프로토콜은 계층화된 스택으로 생각하는 것이 가장 좋습니다. 이더넷은 물리적 데이터 전송 및 점대점 장치 간의 링크를 제공합니다. IP는 라우터 및 대규모 네트워크를 허용하는 주소 계층을 제공하지만, 연결 지향적이지는 않습니다. TCP는 시퀀스 번호, 확인 응답, 재전송을 통해 신뢰할 수 있는 전송 계층을 추가합니다. HTTP와 같은 애플리케이션 레벨 프로토콜은 TCP 위에 계층화됩니다.

프로토콜 계층의 독립성은 중요한 설계 원칙입니다. 예를 들어, 데이터가 손실되더라도 이를 감지하고 해결하는 것은 TCP의 역할이며, 네트워크의 다른 계층은 이를 알 필요가 없습니다.

결론적으로, 현대 프로토콜 설계는 과거 하드웨어 제약에서 비롯된 선택의 결과입니다. 이더넷 페이로드 크기가 1,500바이트로 설정된 이유는 효율성과 메모리 사용 간의 균형을 맞추기 위해서였습니다. HTTP/2의 헤더 압축은 1970년대 후반 네트워킹 장치의 RAM 한계에서 시작된 설계 제약의 결과입니다.

# 무선

- 위 기초 내용을 알고 있다는 가정 하에 진행.
- 


